<template>
    <div style="margin-bottom: 0.5rem">
        <template iterator:it={times}>
            <div key={it.value.id} class="listClass">
                <c-input
                    label="Dato"
                    data-id="date"
                    type="date"
                    ongetvalueonchange={handleDateChange}
                    name={it.value.id}
                    value={it.value.date}
                    error-text="Feltet må fylles ut."
                    style={dateTimeDesktopStyle}
                    mobile-style="padding-bottom: 1vw"
                ></c-input>
                <c-input
                    label="Starttid"
                    data-id="startTime"
                    type="time"
                    value={it.value.startTimeString}
                    error-text="Feltet må fylles ut."
                    name={it.value.id}
                    ongetvalueonchange={handleStartTimeChange}
                    desktop-style="padding-left: 1vw"
                    mobile-style="padding-bottom: 1vw"
                    style={dateTimeDesktopStyle}
                ></c-input>
                <c-input
                    label="Sluttid"
                    data-id="endTime"
                    type="time"
                    value={it.value.endTimeString}
                    error-text="Feltet må fylles ut."
                    name={it.value.id}
                    ongetvalueonchange={handleEndTimeChange}
                    desktop-style="padding-left: 1vw"
                    style={dateTimeDesktopStyle}
                ></c-input>
                </br>
                <c-picklist
                    name={it.value.id}
                    choices={taskOptions}
                    onpicklistvaluechange={handleTaskChoiceMade}
                    master-label="Oppgave"
                    data-id="taskType"
                    error-text="Du må velge en oppgave."
                    desktop-style="padding-top: 1vw"
                    style={dateTimeDesktopStyle}
                >
                </c-picklist>
        <div class="travelTimesRadioButtonContainer">
                    <c-input
                    if:true={it.value.hasAdditionalInformation}
                                label="Tilleggsinformasjon"
                                data-id="additionalInformation"
                                type="text"
                                name={it.value.id}
                                onchange={handleAdditionalInformation}
                                value={it.value.additionalInformation}
                                error-text="Feltet må fylles ut."
                                desktop-style="padding-top: 1vw;padding-bottom: 1vw "
                                mobile-style="padding-bottom: 1vw"
                                helptext-content="Du må fylle ut tilleggsinformasjon fordi du valgte oppgave 'Annet'."
                            ></c-input>
                    <c-radiobuttons
            helptext-content="Velg ja om du har hatt reisetid for å komme deg til oppdraget."
            radiobuttons={componentValues.travelToRadioButtons}
            onradiobuttonsclick={handleOnTravelToRadioButtonsTo}
            header="Har du hatt reisetid for å komme til oppdraget?"
            group-name={it.value.id}
            flex-direction="row"
            name={it.value.id}
        ></c-radiobuttons>
        <div class="travelTimesToInputContainer">
                    <c-input
                    if:true={it.value.hasTravelTo}
                    label="Dato"
                    data-id="dateTravelTo"
                    type="date"
                    ongetvalueonchange={handleDateTravelToChange}
                    name={it.value.id}
                    value={it.value.dateTravelTo}
                    error-text="Feltet må fylles ut."
                    style={dateTimeDesktopStyle}
                    desktop-style="padding-top: 1vw"
                    mobile-style="padding-bottom: 1vw"
                ></c-input>
                    <c-input
                    if:true={it.value.hasTravelTo}
                    label="Reise starttid"
                    data-id="startTimeTravelTo"
                    type="time"
                    value={it.value.startTimeTravelToString}
                    error-text="Feltet må fylles ut."
                    name={it.value.id}
                    ongetvalueonchange={handleStartTimeTravelToChange}
                    desktop-style="padding-top: 1vw; padding-left: 1vw"
                    mobile-style="padding-bottom: 1vw"
                    style={dateTimeDesktopStyle}
                ></c-input>
                <c-input
                if:true={it.value.hasTravelTo}
                    label="Reise sluttid"
                    data-id="endTimeTravelTo"
                    type="time"
                    value={it.value.endTimeTravelToString}
                    error-text="Feltet må fylles ut."
                    name={it.value.id}
                    ongetvalueonchange={handleEndTimeTravelToChange}
                    desktop-style="padding-left: 1vw; padding-top: 1vw"
                    style={dateTimeDesktopStyle}
                ></c-input>
                </div>
        <c-radiobuttons
            helptext-content="Velg ja om du har hatt reisetid for å komme deg fra oppdraget."
            radiobuttons={componentValues.travelFromRadioButtons}
            onradiobuttonsclick={handleOnTravelRadioButtonsFrom}
            header="Har du hatt reisetid for å reise fra oppdraget?"
            group-name={it.value.randomNumber}
            flex-direction="row"
            name={it.value.id}
        ></c-radiobuttons>
         <div class="travelTimesFromInputContainer">
                <c-input
                if:true={it.value.hasTravelFrom}
                    label="Dato"
                    data-id="dateTravelFrom"
                    type="date"
                    ongetvalueonchange={handleDateTravelFromChange}
                    name={it.value.id}
                    value={it.value.dateTravelFrom}
                    error-text="Feltet må fylles ut."
                    style={dateTimeDesktopStyle}
                    mobile-style="padding-bottom: 1vw"
                    desktop-style="padding-top: 1vw"
                ></c-input>
                <c-input
                if:true={it.value.hasTravelFrom}
                    label="Reise starttid"
                    data-id="startTimeTravelFrom"
                    type="time"
                    value={it.value.startTimeTravelFromString}
                    error-text="Feltet må fylles ut."
                    name={it.value.id}
                    ongetvalueonchange={handleStartTimeTravelFromChange}
                    desktop-style="padding-top: 1vw; padding-left: 1vw"
                    mobile-style="padding-bottom: 1vw"
                    style={dateTimeDesktopStyle}
                ></c-input>
                <c-input
                if:true={it.value.hasTravelFrom}
                    label="Reise sluttid"
                    data-id="endTimeTravelFrom"
                    type="time"
                    value={it.value.endTimeTravelFromString}
                    error-text="Feltet må fylles ut."
                    name={it.value.id}
                    ongetvalueonchange={handleEndTimeTravelFromChange}
                    desktop-style="padding-left: 1vw; padding-top: 1vw"
                    style={dateTimeDesktopStyle}
                ></c-input>
                
                </div>
                </div>
               
                </br>
                <br if:false={isOnlyOneTime} />
                <div style="padding-top: 6.7%">
                    <c-button
                        if:false={isOnlyOneTime}
                        type="button"
                        button-styling="danger"
                        onbuttonclick={removeTime}
                        aria-label="Fjern tid"
                        name={it.value.id}
                        button-label="Slett"
                    >
                    </c-button>
                </div>
                <br if:false={isOnlyOneTime} />
            </div>
        </template>
        <c-button
            if:false={isAdvancedTimes}
            type="button"
            button-styling="secondary"
            onbuttonclick={addTime}
            aria-label="Legg til flere tider"
            button-label="+ Legg til flere tider"
        >
        </c-button>
    </div>
</template>
